@page "/unseretiere"
@using TierheimDhiliUndJustus.BLL;
@using TierheimDhiliUndJustus.DAL;
@using MySqlConnector;
@using System.Drawing;
@using System.Data.SqlClient;
@using System.IO;


<PageTitle>Unsere Tiere</PageTitle>

<div id="backnav">
    <a href=""><p>Startseite</p></a><p> > </p><a href=""><p>Unsere Tiere</p></a>
</div>

<div id="alletiere">
    <img id="unseretiere_ueschrift" src="/img/unseretiere.png" alt="Unsere Tiere"/>
    <div id="unseretiere_bilder">
            
    @foreach(var item in lsttier)
    {
        counter++;
        string srcgeschlecht = st.GetGeschlecht(item.ID_Tier);
        string srcimg = "img/tiere/" + @item.Tiername + ".jpg";

        <div class="unseretiere_rahmen"><img class="unseretiere_bild" src="@srcimg">
        <h1>@item.Tiername</h1>
        <img class="unseretiere_geschlecht" src=@srcgeschlecht /></div>
        @if(counter % 3 == 0)
        {
             <div class="block"></div>   
        }
    }
    </div>

</div>

<aside>
    <h1>Filter</h1>
    <h2>Tierarten</h2>
    <hr />
    <div class="unseretiere_tierarten">
        @foreach(Tierart item in lsttierart)
        {
            <input type="checkbox" name="@item.Tierartname" value="@item.Tierartname">
            <label for="@item.Tierartname">@item.Tierartname</label>
        }
    </div>
    <h2>Tierrassen</h2>
    <hr />
    <div class="unseretiere_tierarten">
        counter = 0;
        <h3>Katzenrassen</h3>
        @foreach(Tierrasse item in lsttierrasse_katzen)
        {
            counter++;
            <input type="checkbox" name="@item.Tierrassennamen" value="@item.Tierrassennamen">
            <label for="@item.Tierrassennamen">@item.Tierrassennamen</label>
            if(counter % 2 == 0)
            {
                <div id="block"></div>
            }
        }
    </div>
    @{SetCounterTo0();
    <div class="unseretiere_tierarten">
        <h3>Hunderassen</h3>
        @foreach(Tierrasse item in lsttierrasse_hunde)
        {
            counter++;
            <input type="checkbox" name="@item.Tierrassennamen" value="@item.Tierrassennamen">
            <label for="@item.Tierrassennamen">@item.Tierrassennamen</label>
            if(counter % 2 == 0)
            {
                <div id="block"></div>
            }
        }
    </div>
    <div class="unseretiere_tierarten">
        counter = 0;
        <h3>Hamsterrassen</h3>
        @foreach(Tierrasse item in lsttierrasse_hamster)
        {
            counter++;
            <input type="checkbox" name="@item.Tierrassennamen" value="@item.Tierrassennamen">
            <label for="@item.Tierrassennamen">@item.Tierrassennamen</label>
            if(counter % 2 == 0)
            {
                <div id="block"></div>
            }
        }
    </div>
</aside>


@code{
    public int counter = 0;
    public string geschlechtsource = "";
    public static List<Tier> lsttier = Tier_DA.GetTier();
    public Startseite st = new Startseite();
    public static List<Tierart> lsttierart = Tierart_DA.GetTierarten();
    public static List<Tierrasse> lsttierrasse_katzen = Tierrasse_DA.GetTierrassen(1);
    public static List<Tierrasse> lsttierrasse_hunde = Tierrasse_DA.GetTierrassen(2);
    public static List<Tierrasse> lsttierrasse_hamster = Tierrasse_DA.GetTierrassen(3);

    private void SetCounterTo0()
    {
        counter = 0;
    }
}
